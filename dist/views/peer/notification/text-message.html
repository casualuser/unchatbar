<span data-ng-init="getUnreadMessages()"> <span class="dropdown" dropdown on-toggle="toggled(open)"> <a href class="dropdown-toggle" dropdown-toggle> <i class="fa fa-comment-o fa-6">{{countUnreadMessages}}</i> </a> <ul class="dropdown-menu"> <li ng-repeat="room in unreadMessages"> <div data-ng-repeat="(index,message) in room"> {{message}} <a data-ng-show="message.groupId" ui-sref="chat.group({groupId: message.groupId})"> {{message.text}} </a> <a data-ng-show="!message.groupId" ui-sref-active="active" ui-sref="chat.user({peerId: message.user})" class="list-group-item"> {{message.text}} </a> </div> </li> </ul> </span> </span>